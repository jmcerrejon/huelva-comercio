<Alloy>
    <View class="w-full h-full vertical">

        <!-- Navigation Bar buttons -->

        <Require id="reqNavbar" src="/partials/navbar" title="Asociados" rightIcon="text-2xl text-white lni lni-search-alt" onClick="doSearchAffiliate" onSearch="doSearchAffiliate" onSearchIconClick="doSearchAffiliate"></Require>

        <ListView id="lView" class="w-11/12 h-size vertical bg-white -mt-5" onItemclick="doOpenAffiliates" defaultItemTemplate="defaultTemplate" canScroll="true">
            <RefreshControl id="refreshListView" onRefreshstart="reset"/>

            <Templates>
                <ItemTemplate name="defaultTemplate">
                    <View class="horizontal w-full" height="80">
                        <View class="logoContainer h-11/12">
                            <ImageView bindId="logo" class="logoImage" module="av.imageview" contentMode="Alloy.Globals.CONTENT_MODE_FIT"></ImageView>
                        </View>

                        <View width="79%" class="vertical">
                            <Label bindId="title" class="lni-16 ml-1 text-lightBlue-600 h-full" />
                        </View>
                    </View>
                </ItemTemplate>
            </Templates>

            <ListSection dataCollection="affiliates" dataTransform="doTransform">
                <ListItem accessoryType="Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE" itemId="{id}" logo:image="{logoUrl}" title:text="{name}" afiliate:text="{phone1}"/>
            </ListSection>
        </ListView>
    </View>
</Alloy>